// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model WorkSession {
  id           String   @id @default(uuid())
  date         DateTime @db.Date
  startTime    String
  endTime      String
  breakMinutes Int      @default(0)
  note         String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("work_sessions")
}

model MonthlyAggregate {
  id           String   @id @default(uuid())
  year         Int
  month        Int
  totalMinutes Int
  note         String?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@unique([year, month])
  @@map("monthly_aggregates")
}

model Settings {
  id                   String   @id @default("default")
  hourlyRate           Int      @default(1000)
  evaluationCycleHours Int      @default(160)
  cycleStartDate       DateTime @default(now())
  updatedAt            DateTime @updatedAt

  @@map("settings")
}
